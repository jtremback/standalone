%script{:id => "annotations-template.html", :type => "text/ng-template"}
  %ul.annotator-widget.annotator-listing
    %li.sidepanel
      .avablock
        %img.ava(src="images/{{node.avatar}}")/
    .papercontainer
      .metadata
        %a {{node.username}}
        annotated:
      .control
        %a.goto
          .inner To Annotation
      %li.hyp-annotation.hyp-paper.hyp-detail.hyp-excerpt{"ng-click" => "showHide=!showHide"}
        .page
          %a(href="{{node.link}}") {{node.page|truncate:60}}
          .domain
            {{node.domain}}
            %img.favicon{"ng-src" => "http://{{node.domain}}/favicon.ico"}/
        %blockquote{"ng-hide" => "showHide", "ng-show" => "node.srclevel"}
          {{node.excerpt|truncate:140}}
        %blockquote{"ng-show" => "showHide"}
          {{node.excerpt}}
        .topbar
          .hyp-user {{node.username}}
          .hyp-time {{node.time}}
        .hyp-content{"ng-hide" => "showHide"} {{node.text|truncate:200}}
        .hyp-content{"ng-show" => "showHide"} {{node.text}}
        .hyp-thread
          %ul.annotator-listing{"ng-show" => "showHide"}
            %li.hyp-annotation.hyp-detail{"ng-repeat" => "child in node.children", :node => "child", :parent => "node", :tree => "exp"}